# 📚 英语听写与词汇记忆系统使用说明

## 🚀 快速开始

### 1. 启动程序

```bash
# 激活虚拟环境
source venv/bin/activate

# 方式1: 运行完整GUI版本 (推荐)
python ui/main.py

# 方式2: 运行命令行演示版 
python demo.py

# 方式3: 测试核心功能
python test_installation.py
```

### 2. 程序界面介绍

程序启动后会显示包含3个标签页的主界面：

- **📝 单词听写**: 单词语音听写练习
- **📖 句子听写**: 句子语音听写练习  
- **📊 学习统计**: 学习进度和数据分析

## 📝 单词听写模式

### 功能特色
- 🔊 **TTS语音播放**: 点击"播放"听取单词发音
- 🎤 **语音识别**: 录音后自动转为文字
- ✍️ **手动输入**: 直接键盘输入答案
- 🤖 **AI释义**: 获取详细词汇解释和例句
- 📊 **智能评分**: 自动判断正确性

### 使用步骤
1. 点击"🔊 播放"按钮听取单词发音
2. 查看屏幕上的中文含义和音标提示
3. 选择答题方式：
   - **录音**: 点击"🎤 开始录音" → 说出单词 → "⏹️ 停止录音"
   - **输入**: 在"手动输入"框中直接输入单词
4. 点击"✅ 提交答案"查看结果
5. 可点击"💡 AI释义"获取详细解释

### 示例操作
```
显示: 含义: 放弃；抛弃
      音标: /əˈbændən/
      
用户操作: 
- 播放语音听发音 
- 录音说出 "abandon" 或手动输入
- 提交答案得到反馈

结果: ✅ 正确！相似度: 100%
```

## 📖 句子听写模式

### 功能特色
- 🎵 **句子语音播放**: 完整句子TTS播放
- 📝 **长文本输入**: 支持完整句子输入
- 🎯 **智能评分**: 基于词汇匹配度评分
- 🔄 **重复播放**: 可多次重听

### 使用步骤
1. 切换到"句子听写"标签页
2. 查看中文翻译提示
3. 点击播放按钮听取英文句子
4. 通过录音或输入完成听写
5. 系统自动计算相似度评分

### 示例操作
```
显示: 翻译: 敏捷的棕色狐狸跳过懒惰的狗。

用户听写: "The quick brown fox jumps over the lazy dog."

结果: ✅ 很好！相似度: 100%
```

## 📊 学习统计功能

### 数据可视化
- 📈 **进度图表**: 每日学习量趋势
- 🥧 **正确率饼图**: 单词vs句子正确率对比
- 📊 **对比柱状图**: 总数、已复习、正确率对比

### 统计信息
- **总体数据**: 词汇总数、复习进度、正确率
- **会话数据**: 当前学习时长、复习数量、准确率
- **每日进度**: 最近学习记录和趋势分析

### 数据导出
- 点击"导出报告"可保存JSON格式的学习数据
- 包含详细的学习轨迹和统计信息

## 🤖 AI智能释义

### 功能说明
- 集成Deepseek API提供智能释义
- 自动缓存减少重复请求
- 支持单词和句子的详细分析

### 配置API密钥
编辑 `logic/ai.py` 文件，替换API密钥：
```python
self.api_key = "your-deepseek-api-key-here"  # 替换为实际密钥
```

### 释义内容
**单词释义包含:**
- 📝 发音音标
- 📚 词性分类  
- 💡 多个含义
- 📖 使用例句
- 🔗 同义词列表

**句子分析包含:**
- 🌍 准确翻译
- 📐 语法要点
- 🔑 关键词汇
- ⭐ 难度评级

## 💾 数据管理

### 词库格式

**单词CSV格式** (`data/words_cet6.csv`):
```csv
word,meaning,pronunciation,difficulty
abandon,放弃；抛弃,/əˈbændən/,2
abstract,抽象的；摘要,/ˈæbstrækt/,3
```

**句子JSON格式** (`data/sentences_500.json`):
```json
[
  {
    "sentence": "The quick brown fox jumps over the lazy dog.",
    "translation": "敏捷的棕色狐狸跳过懒惰的狗。", 
    "difficulty": 1
  }
]
```

### 自定义词库
1. 在GUI中选择"文件" → "导入词书"
2. 选择CSV(单词)或JSON(句子)格式文件
3. 系统自动解析并添加到学习队列

### 学习进度
- 自动保存在 `data/progress.json`
- 记录每个词汇的复习次数、正确率等
- 退出程序时自动保存，下次启动时恢复

## 🧠 智能复习算法

### SM-2算法
程序采用改进的SM-2间隔重复算法：

- **初始间隔**: 1天
- **第二次**: 6天  
- **第三次**: 14天
- **之后**: 按易度因子递增

### 复习调度
- 根据回答质量调整复习间隔
- 错误答案重置间隔重新开始
- 正确答案延长复习间隔
- 自动优先安排到期复习内容

## ⚙️ 高级设置

### 音频设置
- 音量控制滑块调节播放音量
- 支持重播当前音频
- 麦克风录音音量自动调节

### 语音参数
可在代码中调整TTS参数：
```python
engine.set_tts_parameters(
    rate='+10%',    # 语速调节
    volume='-5%',   # 音量调节  
    pitch='+50Hz'   # 音调调节
)
```

## 🔧 故障排除

### 常见问题

1. **程序启动失败**
   ```bash
   # 确保虚拟环境已激活
   source venv/bin/activate
   # 验证安装
   python test_installation.py
   ```

2. **音频播放失败**
   - 检查系统音频设备
   - 确认pygame库正确安装

3. **语音识别不准确**  
   - 在安静环境中录音
   - 调整麦克风音量
   - 清晰发音

4. **AI释义失败**
   - 检查网络连接
   - 验证API密钥配置
   - 查看错误日志

### 性能优化
- 音频文件自动缓存在 `data/audio/`
- AI释义缓存在 `data/ai_cache.db`  
- 定期清理过期缓存释放空间

## 📈 使用建议

### 学习策略
1. **每日坚持**: 建议每天练习15-30分钟
2. **先易后难**: 从简单词汇开始，逐步提升
3. **重复练习**: 错误的词汇会自动重复出现
4. **结合AI**: 不确定的词汇查看AI释义加深理解

### 效果评估
- 关注学习统计中的正确率趋势
- 观察每日复习数量的变化  
- 利用错词重现功能强化记忆

## 📞 技术支持

如遇问题请：
1. 查看本使用说明
2. 运行 `python test_installation.py` 检测环境
3. 查看程序日志输出
4. 在GitHub提交Issue: https://github.com/BillWang-dev/word_memorizer

---

**祝您学习愉快！🎉**